{% extends 'modal/template.twig' %}

{% block title %}
	<h5 class="modal-title">Isi Nilai Mahasiswa</h5>
{% endblock %}


{% block content %}

	<div class="modal-body ui-front">
		<div class="row">
			<div class="col-md-6">
				<table class="custom-table">
					{% include 'components/preview-text.twig' with {'name': 'kode', 'label': 'Kode', 'prefix': 'data.mata_kuliah'} %}
					{% include 'components/preview-text.twig' with {'name': 'nama', 'label': 'Nama', 'prefix': 'data.mata_kuliah'} %}
				</table>
			</div>

			<div class="col-md-6">
				<table class="custom-table">
					{% include 'components/preview-text.twig' with {'name': 'sks', 'label': 'SKS', 'prefix': 'data.mata_kuliah'} %}
					{% include 'components/preview-text.twig' with {'name': 'semester.nama', 'label': 'Semester', 'prefix': 'data.mata_kuliah'} %}
				</table>
			</div>
		</div>

		<hr>

		{% verbatim %}
		
		<div class="mt-3">
			<table class="table">
				<thead>
					<th>Nama Mahasiswa</th>
					<th ng-repeat="konfigurasi in data.konfigurasi_nilai">
						{{ konfigurasi.nilai.nama }} ({{konfigurasi.persentase}}%)
					</th>
				</thead>
				<tbody>
					<tr ng-repeat="mahasiswa in data_mahasiswa">
						<td ng-bind-html="mahasiswa.orang.nama"></td>
						<td ng-repeat="konfigurasi in data.konfigurasi_nilai">
							<input type="text" ng-model="form_data[mahasiswa.id + '_' + konfigurasi.nilai.id]" class="form-control">
						</td>
					</tr>
					<tr ng-if="!data_mahasiswa || data_mahasiswa.length == 0">
						<td class="text-center" colspan="{{data.konfigurasi_nilai.length+1}}"> Tidak ada data mahasiswa</td>
					</tr>
				</tbody>
			</table>
			<small>Total data: <b ng-bind="data_mahasiswa.length || 0"></b></small>
		</div>

		{% endverbatim %}
	</div>

{% endblock %}

{% block footer %}
	{% verbatim %}
		<button class="btn" data-bs-dismiss="modal">Close</button>
		<button class="btn btn-primary" ng-click="isiNilai()">Simpan</button>
	{% endverbatim %}
{% endblock %}